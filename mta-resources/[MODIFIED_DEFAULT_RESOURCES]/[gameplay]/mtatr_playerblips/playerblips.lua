local players = {}function onResourceStart ( resource )  	for id, player in ipairs( getElementsByType ( "player" ) ) do		createBlips(player, root)	endendfunction createBlips(player, visibleTo)	destroyBlipsAttachedTo(player);	if not players[player] then 		local r, g, b = getPlayerNametagColor (player)		local blip = createBlipAttachedTo ( player, 0, 2, r, g, b, 255, 0, 99999.0, visibleTo )		players[player] = blip		return blip;	end	end	function toggleBlips(player, visibleTo)	destroyBlipsAttachedTo (player)	if visibleTo and visibleTo == true then 		createBlips (player, root)	end		--local pblip = getPlayerBlip (player)	--setElementVisibleTo (pblip, visibleTo, visible)end	function onPlayerSpawn ( spawnpoint )	destroyBlipsAttachedTo(source)	createBlips (source, root)endfunction onPlayerQuit ()	destroyBlipsAttachedTo ( source )endfunction onPlayerWasted ( totalammo, killer, killerweapon )	destroyBlipsAttachedTo ( source )endfunction getPlayerBlip (player)	if isElement (player) and players[player] then 		return players[player]	end	return falseend	function destroyBlipsAttachedTo(player)	if isElement(players[player]) then		if destroyElement(players[player]) then 			players[player] = nil			return true;		end		end	return false;endaddEventHandler ( "onResourceStart", resourceRoot, onResourceStart )addEventHandler ( "onPlayerSpawn", root, onPlayerSpawn )addEventHandler ( "onPlayerQuit", root, onPlayerQuit )addEventHandler ( "onPlayerWasted", root, onPlayerWasted )